---
import { movieNotFound } from "../../data/movieNotFound";
import type { Movie } from "../../typedefs/Movie";
import PageCard from "../style/PageCard.astro";
import { buttonClasses } from "../style/twClasses/buttonClasses";

const { movie } = Astro.props;

const typedMovie = movie ? movie as Movie : movieNotFound;

const imageUrl = movie.imageUrl && movie.imageUrl !== 'No info available' ? movie.imageUrl : '/public/images/movieNotFound.jpg';

const {
  title,
  year,
  rated,
  runtime,
  genre,
  director,
} = movie;
---
<PageCard>
  <div class="flex flex-row items-between justify-between">
    <img src={imageUrl} width="100px" height="75px" />

    <div class="flex flex-col items-end justify-end">
      <h1 class="text-xl font-bold">{title}</h1>
      <h2 class="text-lg">{year}</h2>
      <h2 class="text-lg">{rated}</h2>
      <h2 class="text-lg">{genre}</h2>
      <p class="mt-4"></p>
      <button class={buttonClasses}>To Watch</button>
    </div>
  </div>
</PageCard>
